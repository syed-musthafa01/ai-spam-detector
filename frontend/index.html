<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Spam Detector</title>
</head>
<body>

  <h2>AI Spam Detector</h2>

  <textarea id="text" rows="5" cols="40"
    placeholder="Enter a message to check for spam"></textarea>
  <br><br>

  <button onclick="checkSpam()">Check Spam</button>

  <p id="result"></p>

  <script>
    async function checkSpam() {
      const message = document.getElementById("text").value;

      if (!message) {
        alert("Please enter a message");
        return;
      }

      const response = await fetch(
        "https://ai-spam-detector-3zap.onrender.com/predict",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ text: message })
        }
      );

      const data = await response.json();

      document.getElementById("result").innerText =
        `Prediction: ${data.prediction} (Confidence: ${data.spam_confidence}%)`;
    }
  </script>

</body>
</html>
